{
    "$schema": "http://json-schema.org/draft-07/schema",
    "type": "object",
    "properties": {
        "type": {
            "enum": [
                "rectangle",
                "sprite",
                "spriteButton"
            ]
        },
        "layer": {
            "type": "string",
            "description": "The layer this Widget should be drawn on. Defaults to MAIN."
        },
        "align": {
            "$ref": "../_structures/Vector2.json",
            "description": "Defines the alignment of this Widget. For example, setting to (0.5, 0.5) will center this Widget on its Node's position, and (0, 1) will make its bottom left corner appear in that point. Defaults to (0, 0)."
        }
    },
    "allOf": [
        {
            "properties": {
                "type": {
                    "description": "A Widget type."
                }
            }
        },
        {
            "if": {
                "properties": {
                    "type": {
                        "const": "rectangle",
                        "description": "A single-colored rectangle."
                    }
                },
                "required": [
                    "type"
                ]
            },
            "then": {
                "properties": {
                    "type": true,
                    "layer": true,
                    "align": true,
                    "size": {
                        "$ref": "../_structures/Vector2.json",
                        "description": "The rectangle's size, in pixels."
                    },
                    "color": {
                        "$ref": "../_structures/Color.json",
                        "description": "The rectangle's color."
                    }
                },
                "required": [
                    "size",
                    "color"
                ],
                "additionalProperties": false
            }
        },
        {
            "if": {
                "properties": {
                    "type": {
                        "const": "sprite",
                        "description": "A sprite."
                    }
                },
                "required": [
                    "type"
                ]
            },
            "then": {
                "properties": {
                    "type": true,
                    "layer": true,
                    "align": true,
                    "sprite": {
                        "type": "string",
                        "description": "The path to a Sprite to be drawn."
                    }
                },
                "required": [
                    "sprite"
                ],
                "additionalProperties": false
            }
        },
        {
            "if": {
                "properties": {
                    "type": {
                        "const": "spriteButton",
                        "description": "A button based on a sprite. The Sprite used to draw this Button must have four states."
                    }
                },
                "required": [
                    "type"
                ]
            },
            "then": {
                "properties": {
                    "type": true,
                    "layer": true,
                    "align": true,
                    "sprite": {
                        "type": "string",
                        "description": "The path to a Sprite to be drawn. The sprite must have four states."
                    },
                    "shape": {
                        "enum": [
                            "rectangle",
                            "ellipse"
                        ],
                        "description": "Defines the hitbox shape of this Button. Defaults to rectangle."
                    }
                },
                "required": [
                    "sprite"
                ],
                "additionalProperties": false
            }
        }
    ],
    "required": [
        "type"
    ]
}